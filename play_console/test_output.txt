i: 0
current state: state1
i: 1
current state: state2
